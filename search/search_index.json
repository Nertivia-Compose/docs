{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"What is this? Nertivia-Compose is just Nertivia but easy to setup How to use it? Head over here for setting up on your local machine or here for setting up on Play with Docker","title":"Home"},{"location":"#what-is-this","text":"Nertivia-Compose is just Nertivia but easy to setup","title":"What is this?"},{"location":"#how-to-use-it","text":"Head over here for setting up on your local machine or here for setting up on Play with Docker","title":"How to use it?"},{"location":"requirements/","text":"Docker engine docker-compose requirement, can be obtained here docker-compose the vm under which nertivia will be running, can be obtained here git to obtain the instance from its repo, can be installed using sudo apt install git","title":"Requirements"},{"location":"database-connection/linux/","text":"Download mongodb-compass using wget https://downloads.mongodb.com/compass/mongodb-compass_1.24.6_amd64.deb Type sudo dpkg -i mongodb-compass_1.24.6_amd64.deb Start mongodb-compass using mongodb-compass In field that says Paste your connection string (SRV or Standard) , type mongodb://[INSTANCEDOMAIN]:[MONGODB_PORT] for example mongodb://local.nertivia.net:27017 Click CONNECT button","title":"Linux"},{"location":"database-connection/windows/","text":"Download mongodb-compass from here In field that says Paste your connection string (SRV or Standard) , type mongodb://[INSTANCEDOMAIN]:[MONGODB_PORT] for example mongodb://local.nertivia.net:27017 Click CONNECT button","title":"Windows"},{"location":"explanations/docker-compose-file/","text":"Services Redis Nertivia cache server Mongo Database under which Nertivia works Server Api server Client Web client Caddy Nertivia webserver PHP CDN won't work properly without this IMAGE-SERVER Service responsible for image serving VOLUMES MONGODATA Database is held on this volume NETWORKS SHARED This network allows the service to see each other","title":"docker-compose.yml"},{"location":"explanations/docker-compose-file/#services","text":"","title":"Services"},{"location":"explanations/docker-compose-file/#redis","text":"Nertivia cache server","title":"Redis"},{"location":"explanations/docker-compose-file/#mongo","text":"Database under which Nertivia works","title":"Mongo"},{"location":"explanations/docker-compose-file/#server","text":"Api server","title":"Server"},{"location":"explanations/docker-compose-file/#client","text":"Web client","title":"Client"},{"location":"explanations/docker-compose-file/#caddy","text":"Nertivia webserver","title":"Caddy"},{"location":"explanations/docker-compose-file/#php","text":"CDN won't work properly without this","title":"PHP"},{"location":"explanations/docker-compose-file/#image-server","text":"Service responsible for image serving","title":"IMAGE-SERVER"},{"location":"explanations/docker-compose-file/#volumes","text":"","title":"VOLUMES"},{"location":"explanations/docker-compose-file/#mongodata","text":"Database is held on this volume","title":"MONGODATA"},{"location":"explanations/docker-compose-file/#networks","text":"","title":"NETWORKS"},{"location":"explanations/docker-compose-file/#shared","text":"This network allows the service to see each other","title":"SHARED"},{"location":"explanations/env-file/","text":"Ports Prefix: None Suffix: _PORT CLIENT The port client is running on SERVER The port server is running on MONGODB The port database server in running on (no use if connected to remote database) CDN The port CDN is running on Caddyfile Prefix: CADDYFILE_ Suffix: None SERVER_URL The URL where the server is accessible CLIENT_URL The URL where the client is accessible CDN_URL The URL where the CDN is accessible Server Prefix: None Suffix: None MONGODB_ADDRESS Database URL JWT_SECRET Server JWT secret (keep it private) SESSION_SECRET Session secret (keep it private) REDIS_HOST Cache server URL REDIS_PORT Cache server port REDIS_PASS Cache server password (leave empty for no password) CAPTCHA_KEY hCaptcha key used for server CLIENT_DOMAIN The domain your client is running at ALLOWED_ORIGINS Origins allowed to connect to the server SMTP Prefix: SMTP_ Suffix: None SERVICE Service used for sending mails USER The name of mail sender PASS Mail account password FROM Mail account e-mail Google Drive Prefix DRIVE_ Suffix: None CLIENT_ID Google Drive client id CLIENT_SECRET Google Drive client secret URL Google Drive URL KEY Google Drive key DEV_MODE Nertivia developer mode (disables captcha and ratelimits) CLIENT Prefix: VUE_APP_ Suffix: None MAIN_APP_URL URL the client is running at (with / at the end) SOCKET_URL URL the server is running at (no / at the end) FETCH_PREFIX API URL (no / at the end) NERTIVIA_CDN Nertivia CDN URL (with / at the end) CAPTCHA_SITE_KEY hChaptcha site key used for client TWEMOJI_LOCATION Emoji pack location (with / at the end) IMAGE_PROXY_URL URL for image proxy (no / at the end) FIREBASE Prefix: VUE_APP_FCM_ Suffix: None API_KEY Firebase API key AUTH_DOMAIN Firebase auth domain DATABASE_URL Firebase database URL PROJECT_ID Firebase project ID STORAGE_BUCKET Firebase storage bucket URL SENDER_ID Firebase sender ID APP_ID - Firebase app ID","title":".env file"},{"location":"explanations/env-file/#ports","text":"Prefix: None Suffix: _PORT","title":"Ports"},{"location":"explanations/env-file/#client","text":"The port client is running on","title":"CLIENT"},{"location":"explanations/env-file/#server","text":"The port server is running on","title":"SERVER"},{"location":"explanations/env-file/#mongodb","text":"The port database server in running on (no use if connected to remote database)","title":"MONGODB"},{"location":"explanations/env-file/#cdn","text":"The port CDN is running on","title":"CDN"},{"location":"explanations/env-file/#caddyfile","text":"Prefix: CADDYFILE_ Suffix: None","title":"Caddyfile"},{"location":"explanations/env-file/#server_url","text":"The URL where the server is accessible","title":"SERVER_URL"},{"location":"explanations/env-file/#client_url","text":"The URL where the client is accessible","title":"CLIENT_URL"},{"location":"explanations/env-file/#cdn_url","text":"The URL where the CDN is accessible","title":"CDN_URL"},{"location":"explanations/env-file/#server_1","text":"Prefix: None Suffix: None","title":"Server"},{"location":"explanations/env-file/#mongodb_address","text":"Database URL","title":"MONGODB_ADDRESS"},{"location":"explanations/env-file/#jwt_secret","text":"Server JWT secret (keep it private)","title":"JWT_SECRET"},{"location":"explanations/env-file/#session_secret","text":"Session secret (keep it private)","title":"SESSION_SECRET"},{"location":"explanations/env-file/#redis_host","text":"Cache server URL","title":"REDIS_HOST"},{"location":"explanations/env-file/#redis_port","text":"Cache server port","title":"REDIS_PORT"},{"location":"explanations/env-file/#redis_pass","text":"Cache server password (leave empty for no password)","title":"REDIS_PASS"},{"location":"explanations/env-file/#captcha_key","text":"hCaptcha key used for server","title":"CAPTCHA_KEY"},{"location":"explanations/env-file/#client_domain","text":"The domain your client is running at","title":"CLIENT_DOMAIN"},{"location":"explanations/env-file/#allowed_origins","text":"Origins allowed to connect to the server","title":"ALLOWED_ORIGINS"},{"location":"explanations/env-file/#smtp","text":"Prefix: SMTP_ Suffix: None","title":"SMTP"},{"location":"explanations/env-file/#service","text":"Service used for sending mails","title":"SERVICE"},{"location":"explanations/env-file/#user","text":"The name of mail sender","title":"USER"},{"location":"explanations/env-file/#pass","text":"Mail account password","title":"PASS"},{"location":"explanations/env-file/#from","text":"Mail account e-mail","title":"FROM"},{"location":"explanations/env-file/#google-drive","text":"Prefix DRIVE_ Suffix: None","title":"Google Drive"},{"location":"explanations/env-file/#client_id","text":"Google Drive client id","title":"CLIENT_ID"},{"location":"explanations/env-file/#client_secret","text":"Google Drive client secret","title":"CLIENT_SECRET"},{"location":"explanations/env-file/#url","text":"Google Drive URL","title":"URL"},{"location":"explanations/env-file/#key","text":"Google Drive key","title":"KEY"},{"location":"explanations/env-file/#dev_mode","text":"Nertivia developer mode (disables captcha and ratelimits)","title":"DEV_MODE"},{"location":"explanations/env-file/#client_1","text":"Prefix: VUE_APP_ Suffix: None","title":"CLIENT"},{"location":"explanations/env-file/#main_app_url","text":"URL the client is running at (with / at the end)","title":"MAIN_APP_URL"},{"location":"explanations/env-file/#socket_url","text":"URL the server is running at (no / at the end)","title":"SOCKET_URL"},{"location":"explanations/env-file/#fetch_prefix","text":"API URL (no / at the end)","title":"FETCH_PREFIX"},{"location":"explanations/env-file/#nertivia_cdn","text":"Nertivia CDN URL (with / at the end)","title":"NERTIVIA_CDN"},{"location":"explanations/env-file/#captcha_site_key","text":"hChaptcha site key used for client","title":"CAPTCHA_SITE_KEY"},{"location":"explanations/env-file/#twemoji_location","text":"Emoji pack location (with / at the end)","title":"TWEMOJI_LOCATION"},{"location":"explanations/env-file/#image_proxy_url","text":"URL for image proxy (no / at the end)","title":"IMAGE_PROXY_URL"},{"location":"explanations/env-file/#firebase","text":"Prefix: VUE_APP_FCM_ Suffix: None","title":"FIREBASE"},{"location":"explanations/env-file/#api_key","text":"Firebase API key","title":"API_KEY"},{"location":"explanations/env-file/#auth_domain","text":"Firebase auth domain","title":"AUTH_DOMAIN"},{"location":"explanations/env-file/#database_url","text":"Firebase database URL","title":"DATABASE_URL"},{"location":"explanations/env-file/#project_id","text":"Firebase project ID","title":"PROJECT_ID"},{"location":"explanations/env-file/#storage_bucket","text":"Firebase storage bucket URL","title":"STORAGE_BUCKET"},{"location":"explanations/env-file/#sender_id","text":"Firebase sender ID","title":"SENDER_ID"},{"location":"explanations/env-file/#app_id","text":"- Firebase app ID","title":"APP_ID"},{"location":"explanations/utils-file/","text":"Warning The helper won't work if you don't have database on localhost Utils.sh is a helper file, it allows you to easly manage admin perms or badges, just use ./utils.sh and it will guide you trough the rest","title":".utils.sh"},{"location":"setup/localhost/","text":"Clone nertivia-compose repo using git clone https://github.com/Nertivia-Compose/instance Enter the repo directory using cd instance Rename .env.example to .env using mv .env.example .env Run instance using docker-compose up and wait for it to run completely Open your browser and go to http://local.nertivia.net","title":"Local machinne"},{"location":"setup/pwd/","text":"Clone nertivia-compose repo using git clone https://github.com/Nertivia-Compose/instance Enter the repo directory using cd instance Rename .env.example to .env using mv .env.example .env Open .env file using vim .env and switch to insert mode using i key Change values on: line 2 to http://ip[IP]-[ID]-8080.direct.labs.play-with-docker.com line 3 to http://ip[IP]-[ID]-8181.direct.labs.play-with-docker.com line 4 to http://ip[IP]-[ID]-8282.direct.labs.play-with-docker.com Save changes and exit using esc and :wq Run instance using docker-compose up and wait for it to run completely Open webclient by clicking on port 8080","title":"Play with Docker"}]}